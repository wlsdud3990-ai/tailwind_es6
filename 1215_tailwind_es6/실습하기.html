<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>êµ¬ë§¤ ìˆ˜ëŸ‰ ì˜ˆì œ</title>
  <style>
    /* ì „ì²´ í–‰ ì •ë ¬ */
    .select-row {
      float: left;
      width: 120px;
      font-weight: bold;
    }

    /* ì˜¤ë¥¸ìª½ ì˜ì—­ */
    .box {
      margin-left: 140px;
    }

    .qty-box {
      display: flex;
      /* í•µì‹¬ */
      align-items: center;
      width: fit-content;
      /* â­ í•µì‹¬ */
      border: 1px solid #ccc;
      border-radius: 6px;
      overflow: hidden;
      margin-top: 8px;
      /* ìœ„ ìš”ì†Œì™€ ê°„ê²© */
    }

    .qty-box button {
      width: 32px;
      height: 32px;
      border: none;
      background: #f5f5f5;
      font-size: 18px;
      cursor: pointer;
    }

    .qty-box input {
      width: 40px;
      height: 32px;
      border: none;
      text-align: center;
      background: #fff;
    }

    /* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ */
    .action-box {
      clear: both;
      /* â­ í•µì‹¬ */
      margin-top: 20px;
      display: flex;
      gap: 10px;
      align-items: center;
    }


    .icon-btn {
      width: 50px;
      height: 50px;
      border: 1px solid #ccc;
      background: #fff;
      font-size: 20px;
      cursor: pointer;
    }

    .icon-btn.active {
      border-color: #570e79;
      color: #570e79;
    }

    .cart-btn {
      width: 280px;
      height: 50px;
      background: #570e79;
      color: #fff;
      border: none;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }

    .cart-btn:hover {
      background: #570e79;
    }
  </style>
</head>

<body>


  <p class="select-row">
    <span class="label">êµ¬ë§¤ ìˆ˜ëŸ‰</span>
  </p>

  <div class="box">
    <select id="qtySelect">
      <option value="">ìƒí’ˆì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</option>
      <option value="1">ìœ ëª…ì‚°ì§€ ì„¤í–¥ë”¸ê¸° 500g</option>
      <option value="2">ìœ ëª…ì‚°ì§€ ì„¤í–¥ë”¸ê¸° 500g (2ê°œ)</option>
      <option value="3">ìœ ëª…ì‚°ì§€ ì„¤í–¥ë”¸ê¸° 500g (3ê°œ)</option>
    </select>

    <p id="selectedProduct" style="display:none;">
      <strong></strong>
    </p>

    <p class="qty-box">
      <button id="minus">-</button>
      <input type="text" id="qtyInput" value="0" readonly>
      <button id="plus">+</button>
    </p>

    <p>
      <strong id="total">0</strong> ì›
    </p>
  </div>

  <!-- í•˜ë‹¨ ë²„íŠ¼ -->
  <div class="action-box">
    <button class="icon-btn" id="wishBtn">â™¡</button>
    <button class="icon-btn" id="alarmBtn">ğŸ””</button>
    <button class="cart-btn" id="cartBtn">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
  </div>

  <script>
    const price = 15900;

    const qtySelect = document.getElementById('qtySelect');
    const qtyInput = document.getElementById('qtyInput');
    const total = document.getElementById('total');

    /* ì„ íƒëœ ìƒí’ˆ ì¶œë ¥ ì˜ì—­ (ì—†ìœ¼ë©´ ìƒì„±) */
    let selectedProduct = document.getElementById('selectedProduct');
    if (!selectedProduct) {
      selectedProduct = document.createElement('p');
      selectedProduct.id = 'selectedProduct';
      selectedProduct.style.display = 'none';
      selectedProduct.innerHTML = 'ì„ íƒ ìƒí’ˆ : <strong></strong>';
      document.querySelector('.box').insertBefore(selectedProduct, total.parentElement);
    }
    const selectedText = selectedProduct.querySelector('strong');

    /* ì´ ê¸ˆì•¡ ê³„ì‚° */
    const calcTotal = () => {
      const qty = Number(qtyInput.value);
      total.innerText = (qty * price).toLocaleString();
    };

    /* ì˜µì…˜ ì„ íƒ */
    qtySelect.addEventListener('change', () => {
      const { value, selectedIndex, options } = qtySelect;
      const text = options[selectedIndex].text;

      if (value !== '0') {
        qtyInput.value = 1;
        selectedText.textContent = text;   // ì˜µì…˜ ê¸€ì”¨ ê·¸ëŒ€ë¡œ ì¶œë ¥
        selectedProduct.style.display = 'block';
      } else {
        qtyInput.value = 0;
        selectedProduct.style.display = 'none';
      }
      calcTotal();
    });

    /* ìˆ˜ëŸ‰ + */
    document.getElementById('plus').addEventListener('click', () => {
      if (qtySelect.value === '0') return;
      qtyInput.value = Number(qtyInput.value) + 1;
      calcTotal();
    });

    /* ìˆ˜ëŸ‰ - */
    document.getElementById('minus').addEventListener('click', () => {
      if (qtyInput.value > 1) {
        qtyInput.value = Number(qtyInput.value) - 1;
        calcTotal();
      }
    });

    /* ì°œ ë²„íŠ¼ */
    document.getElementById('wishBtn').addEventListener('click', function () {
      this.classList.toggle('active');
      this.textContent = this.textContent === 'â™¡' ? 'â™¥' : 'â™¡';
    });

    /* ì•Œë¦¼ ë²„íŠ¼ */
    document.getElementById('alarmBtn').addEventListener('click', function () {
      this.classList.toggle('active');
      alert('ì…ê³  ì•Œë¦¼ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
    });

    /* ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ */
    document.getElementById('cartBtn').addEventListener('click', () => {
      if (qtyInput.value == 0) {
        alert('ìˆ˜ëŸ‰ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.');
        return;
      }
      alert(`${selectedText.textContent} ${qtyInput.value}ê°œê°€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤.`);
    });
  </script>


</body>

</html>